{"version":3,"sources":["webpack:///webpack/bootstrap 0547e2d22c0c8dc8430d","webpack:///(webpack)/buildin/module.js","webpack:///./src/view/js/utils/client.js"],"names":["global","factory","module","exports","vTellClient","window","callIOSNative","msg","code","callback","client","setupWebViewJavascriptBridge","bridge","callHandler","responseCallback","response","parseResponse","callAndroidNative","retval","VTellAndroidNative","callNative","JSON","stringify","isAndroid","res","json","parse","e","weWantYouSubmit","getToken","getUserId","tokenTimeOut","closePage","getVersion","getDeviceInfo","signOut","WebViewJavascriptBridge","WVJBCallbacks","push","WVJBIframe","document","createElement","style","display","src","documentElement","appendChild","setTimeout","removeChild"],"mappings":"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","file":"/utils/client.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0547e2d22c0c8dc8430d","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 0\n// module chunks = 0 1","; (function (global, factory) {\n  \"use strict\";\n  if (typeof module === \"object\" && typeof module.exports === \"object\") {\n    module.exports = factory();\n  } else {\n    global.vTellClient = factory();\n  }\n})(typeof window !== \"undefined\" ? window : this, function () {\n  \"use strict\";\n\n  function callIOSNative(msg, code, callback) {\n    client.setupWebViewJavascriptBridge(function (bridge) {\n      bridge.callHandler('ObjC Echo', { msg: msg, code: code }, function responseCallback(response) {\n        if (typeof callback === 'function') {\n          callback(parseResponse(response));\n        }\n      })\n    })\n  }\n\n  function callAndroidNative(msg, code, callback) {\n    var retval = VTellAndroidNative.callNative(JSON.stringify({ msg: msg, code: code }));\n    if (typeof callback === 'function') {\n      callback(parseResponse(retval));\n    }\n  }\n\n  function callNative(msg, code, callback) {\n    if (client.isAndroid()) {\n      callAndroidNative(msg, code, callback);\n    }\n    else {\n      callIOSNative(msg, code, callback);\n    }\n  }\n\n  function parseResponse(res) {\n    var json;\n    try {\n      json = JSON.parse(res)\n    }\n    catch (e) {\n      json = {};\n    }\n    return json && json.msg || null;\n  }\n\n  var client = {};\n\n  client.isAndroid = function () {\n    if (window.VTellAndroidNative) {\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  client.weWantYouSubmit = function () {\n    return callAndroidNative('提交成功', 75200);\n  }\n\n  client.getToken = function (callback) {\n    callNative('getTokenInfo', 75202, callback);\n  }\n\n  client.getUserId = function (callback) {\n    callNative('getUserId', 75210, callback);\n  }\n\n  client.tokenTimeOut = function () {\n    callNative('tokenTimeOut', 75208);\n  };\n\n  client.closePage = function () {\n    callNative('关闭页面', 75204);\n  }\n\n  client.getVersion = function (callback) {\n    callNative('getVersion', 75206);\n  }\n\n  client.getDeviceInfo = function (callback) {\n    callNative('getDeviceInfo', 75212, callback);\n  }\n\n  client.signOut = function(callback){\n    callNative('signOut', 75214, callback);\n  }\n\n  client.setupWebViewJavascriptBridge = function (callback) {\n    if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }\n    if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }\n    window.WVJBCallbacks = [callback];\n    var WVJBIframe = document.createElement('iframe');\n    WVJBIframe.style.display = 'none';\n    WVJBIframe.src = 'https://__bridge_loaded__';\n    document.documentElement.appendChild(WVJBIframe);\n    setTimeout(function () { document.documentElement.removeChild(WVJBIframe) }, 0)\n  }\n\n  return client;\n});\n\n\n// WEBPACK FOOTER //\n// ./src/view/js/utils/client.js"],"sourceRoot":""}